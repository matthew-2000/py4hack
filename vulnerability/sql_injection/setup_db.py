import sqlite3

# Connessione al database
conn = sqlite3.connect("demo.db")
c = conn.cursor()

# Creazione tabella utenti con nuovi attributi
c.execute("""
CREATE TABLE IF NOT EXISTS utenti (
    username TEXT PRIMARY KEY,
    password TEXT,
    email TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    first_name TEXT,
    last_name TEXT,
    age INTEGER
)
""")

# Inserimento dati di esempio con nuovi attributi
c.execute("INSERT OR IGNORE INTO utenti VALUES (?,?,?,?,?,?,?)", ("alice", "alicepwd", "alice@example.com", None, "Alice", "Smith", 30))
c.execute("INSERT OR IGNORE INTO utenti VALUES (?,?,?,?,?,?,?)", ("bob", "123456", "bob@example.com", None, "Bob", "Brown", 25))
c.execute("INSERT OR IGNORE INTO utenti VALUES (?,?,?,?,?,?,?)", ("charlie", "password", "charlie@example.com", None, "Charlie", "Davis", 35))
c.execute("INSERT OR IGNORE INTO utenti VALUES (?,?,?,?,?,?,?)", ("david", "davidpwd", "david@example.com", None, "David", "Wilson", 28))
c.execute("INSERT OR IGNORE INTO utenti VALUES (?,?,?,?,?,?,?)", ("eve", "password123", "eve@example.com", None, "Eve", "Johnson", 22))

# Salvataggio e chiusura
conn.commit()
conn.close()

print("Database demo.db creato o aggiornato con utenti di prova.")
