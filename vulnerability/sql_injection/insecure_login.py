import sqlite3

def insecure_login(user_input, pass_input):
    # Connessione al database
    conn = sqlite3.connect("demo.db")
    c = conn.cursor()

    # Query insicura (concatenazione diretta)
    query = f"SELECT * FROM utenti WHERE username = '{user_input}' AND password = '{pass_input}'"
    print(f"[DEBUG] Eseguo query insicura:\n{query}\n")
    
    c.execute(query)  # Esecuzione della query insicura
    result = c.fetchall()
    conn.close()

    if result:
        print(f"Login riuscito! Benvenuto, {result}")
    else:
        print("Accesso negato.")

# Input utente
# Input utente
if __name__ == '__main__':
    usr = input("Inserisci username: ")
    pwd = input("Inserisci password: ")
    insecure_login(usr, pwd)
